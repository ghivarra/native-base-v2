{"version":3,"sources":["../../../src/basic/Item.js"],"names":["Item","props","state","isFocused","text","topAnim","Animated","Value","opacAnim","syncFromChildren","nextProps","roundedInputGroup","borderWidth","rounded","variables","undefined","borderRadius","inputGroupRoundedBorderRadius","children","React","Children","toArray","label","find","c","type","Label","input","Input","icon","Icon","image","Thumbnail","inputProps","floatingLabel","value","setState","floatUp","style","others","getInitialStyle","timing","toValue","duration","useNativeDriver","start","labelProps","offset","position","left","right","transform","translateY","opacity","_inputRef","onFocus","length","floatBack","onBlur","e","onChangeText","renderFloating","_root","prepareRootProps","renderChildren","Component","propTypes","TouchableOpacityProps","PropTypes","oneOfType","object","number","array","inlineLabel","bool","stackedLabel","fixedLabel","success","error","StyledItem","mapPropsToStyleNames"],"mappings":"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","file":"Item.js","sourcesContent":["/* eslint-disable no-plusplus */\n/* eslint-disable no-loop-func */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  TouchableOpacity,\n  Animated,\n  View,\n} from 'react-native';\nimport { connectStyle } from 'native-base-shoutem-theme';\n\nimport variables from '../theme/variables/platform';\nimport mapPropsToStyleNames from '../utils/mapPropsToStyleNames';\n\nimport { Input } from './Input';\nimport { Label } from './Label';\nimport { Icon } from './Icon';\nimport { Thumbnail } from './Thumbnail';\nimport { TouchableOpacityProps } from '../utils/TouchableOpacityProps';\n\nclass Item extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFocused: false,\n      text: '',\n      topAnim: new Animated.Value(18),\n      opacAnim: new Animated.Value(1),\n    };\n  }\n\n  componentDidMount() {\n    this.syncFromChildren(this.props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.syncFromChildren(nextProps);\n  }\n\n  getInitialStyle() {\n    return {\n      roundedInputGroup: {\n        borderWidth: this.props.rounded ? variables.borderWidth * 2 : undefined,\n        borderRadius: this.props.rounded\n          ? variables.inputGroupRoundedBorderRadius\n          : undefined,\n      },\n    };\n  }\n\n  syncFromChildren(props) {\n    const children = React.Children.toArray(props.children);\n\n    this.label = children.find(c => c.type === Label);\n    this.input = children.find(c => c.type === Input);\n    this.icon = children.find(c => c.type === Icon);\n    this.image = children.find(c => c.type === Thumbnail);\n\n    this.inputProps = (this.input && this.input.props) ? this.input.props : {};\n\n    if (props.floatingLabel && this.inputProps && this.inputProps.value) {\n      this.setState({ isFocused: true });\n      this.floatUp(-16);\n    }\n  }\n\n  prepareRootProps() {\n    const { style, ...others } = this.props;\n    return {\n      ...others,\n      style: [this.getInitialStyle().roundedInputGroup, style],\n    };\n  }\n\n  floatBack() {\n    Animated.timing(this.state.topAnim, {\n      toValue: 18,\n      duration: 150,\n      useNativeDriver: true,\n    }).start();\n    Animated.timing(this.state.opacAnim, {\n      toValue: 1,\n      duration: 150,\n      useNativeDriver: true,\n    }).start();\n  }\n\n  floatUp() {\n    Animated.timing(this.state.topAnim, {\n      toValue: -16,\n      duration: 150,\n      useNativeDriver: true,\n    }).start();\n    Animated.timing(this.state.opacAnim, {\n      toValue: 0.7,\n      duration: 150,\n      useNativeDriver: true,\n    }).start();\n  }\n\n  renderFloating(labelProps, inputProps, offset = 0) {\n    return (\n      <View>\n        <Animated.View\n          style={{\n            position: 'absolute',\n            left: offset,\n            right: 0,\n            transform: [{ translateY: this.state.topAnim }],\n            opacity: this.state.opacAnim,\n          }}\n        >\n          <Label {...labelProps} />\n        </Animated.View>\n\n        <Input\n          ref={c => (this._inputRef = c)}\n          {...inputProps}\n          onFocus={() => {\n            this.setState({ isFocused: true });\n            this.floatUp();\n            inputProps.onFocus && inputProps.onFocus();\n          }}\n          onBlur={e => {\n            if (!this.state.text.length) {\n              this.setState({ isFocused: false });\n              this.floatBack();\n            }\n            inputProps.onBlur && inputProps.onBlur(e);\n          }}\n          onChangeText={text => {\n            this.setState({ text });\n            inputProps.onChangeText && inputProps.onChangeText(text);\n          }}\n        />\n      </View>\n    );\n  }\n\n  renderChildren() {\n    if (!this.props.floatingLabel) return this.props.children;\n\n    const labelProps = (this.label && this.label.props) ? this.label.props : {};\n    const inputProps = this.inputProps || {};\n\n    return this.renderFloating(labelProps, inputProps);\n  }\n\n  render() {\n    return (\n      <TouchableOpacity\n        ref={c => (this._root = c)}\n        {...this.prepareRootProps()}\n        activeOpacity={1}\n      >\n        {this.renderChildren()}\n      </TouchableOpacity>\n    );\n  }\n}\n\n\nItem.propTypes = {\n  ...TouchableOpacityProps,\n  style: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.number,\n    PropTypes.array,\n  ]),\n  inlineLabel: PropTypes.bool,\n  floatingLabel: PropTypes.bool,\n  stackedLabel: PropTypes.bool,\n  fixedLabel: PropTypes.bool,\n  success: PropTypes.bool,\n  error: PropTypes.bool,\n};\n\nconst StyledItem = connectStyle(\n  'NativeBase.Item',\n  {},\n  mapPropsToStyleNames\n)(Item);\n\nexport { StyledItem as Item };"]}