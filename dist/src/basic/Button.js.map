{"version":3,"sources":["../../../src/basic/Button.js"],"names":["styles","StyleSheet","create","childContainer","flexShrink","flexDirection","justifyContent","alignItems","Button","props","setRoot","_root","c","theme","variables","variable","borderedBtn","borderWidth","bordered","buttonDefaultBorderWidth","undefined","borderRadius","rounded","borderRadiusLarge","buttonDefaultBorderRadius","style","others","flatten","compose","getInitialStyle","getVariables","children","Platform","OS","PLATFORM","IOS","buttonUppercaseAndroidText","React","Children","map","child","type","Text","cloneElement","uppercase","rootProps","prepareRootProps","WEB","androidRipple","Version","activeOpacity","buttonDefaultActiveOpacity","buttonStyle","buttonFlex","full","block","buttonDefaultFlex","flex","maxHeight","height","paddingTop","paddingBottom","onPress","TouchableNativeFeedback","Ripple","androidRippleColor","flexGrow","transparent","PureComponent","propTypes","TouchableOpacityProps","PropTypes","object","oneOfType","number","array","bool","primary","success","danger","warning","info","disabled","large","small","active","StyledButton","mapPropsToStyleNames"],"mappings":"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","file":"Button.js","sourcesContent":["/* eslint-disable new-cap */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  TouchableOpacity,\n  Platform,\n  View,\n  TouchableNativeFeedback,\n  StyleSheet\n} from 'react-native';\nimport { connectStyle } from 'native-base-shoutem-theme';\n\nimport variable from '../theme/variables/platform';\nimport { PLATFORM } from '../theme/variables/commonColor';\nimport mapPropsToStyleNames from '../utils/mapPropsToStyleNames';\n\nimport { Text } from './Text';\nimport { TouchableOpacityProps } from '../utils/TouchableOpacityProps';\n\nconst styles = StyleSheet.create({\n  childContainer: {\n    flexShrink: 1,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});\n\nclass Button extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this._root = null;\n  }\n\n  setRoot = c => {\n    this._root = c;\n  };\n\n  getVariables() {\n    const theme = this.props.theme['@@shoutem.theme/themeStyle'].variables;\n    return theme || variable;\n  }\n\n  getInitialStyle() {\n    return {\n      borderedBtn: {\n        borderWidth: this.props.bordered\n          ? variable.buttonDefaultBorderWidth\n          : undefined,\n        borderRadius:\n          this.props.rounded && this.props.bordered\n            ? variable.borderRadiusLarge\n            : variable.buttonDefaultBorderRadius\n      }\n    };\n  }\n\n  prepareRootProps() {\n    // eslint-disable-next-line no-unused-vars\n    const { style, theme, ...others } = this.props;\n    return {\n      ...others,\n      style: StyleSheet.flatten(\n        StyleSheet.compose(this.getInitialStyle().borderedBtn, style)\n      )\n    };\n  }\n\n  render() {\n    const variables = this.getVariables();\n\n    const children =\n      Platform.OS === PLATFORM.IOS || !variables.buttonUppercaseAndroidText\n        ? this.props.children\n        : React.Children.map(this.props.children, child =>\n            child && child.type === Text\n              ? React.cloneElement(child, {\n                ...child.props,\n                uppercase:\n                    this.props.buttonUppercaseAndroidText === false\n                      ? false\n                      : variables.buttonUppercaseAndroidText\n              })\n              : child\n          );\n\n    const rootProps = this.prepareRootProps();\n\n    if (\n      Platform.OS === PLATFORM.IOS ||\n      Platform.OS === PLATFORM.WEB ||\n      variables.androidRipple === false ||\n      Platform.Version < 21\n    ) {\n      return (\n        <TouchableOpacity\n          {...rootProps}\n          ref={this.setRoot}\n          activeOpacity={\n            this.props.activeOpacity > 0\n              ? this.props.activeOpacity\n              : variable.buttonDefaultActiveOpacity\n          }\n        >\n          {children}\n        </TouchableOpacity>\n      );\n    }\n\n    if (this.props.rounded) {\n      const buttonStyle = { ...rootProps.style };\n      const buttonFlex =\n        this.props.full || this.props.block\n          ? variable.buttonDefaultFlex\n          : buttonStyle.flex;\n\n      return (\n        <View\n          style={[\n            { maxHeight: buttonStyle.height },\n            buttonStyle,\n            { paddingTop: undefined, paddingBottom: undefined }\n          ]}\n        >\n          <TouchableNativeFeedback\n            ref={this.setRoot}\n            onPress={this.props.onPress}\n            background={TouchableNativeFeedback.Ripple(\n              this.props.androidRippleColor || variables.androidRippleColor,\n              true\n            )}\n          >\n            <View\n              style={[\n                styles.childContainer,\n                {\n                  paddingTop: buttonStyle.paddingTop,\n                  paddingBottom: buttonStyle.paddingBottom,\n                  height: buttonStyle.height,\n                  flexGrow: buttonFlex\n                }\n              ]}\n            >\n              {children}\n            </View>\n          </TouchableNativeFeedback>\n        </View>\n      );\n    }\n\n    return (\n      <TouchableNativeFeedback\n        ref={this.setRoot}\n        onPress={this.props.onPress}\n        background={\n          this.props.transparent\n            ? TouchableNativeFeedback.Ripple('transparent')\n            : TouchableNativeFeedback.Ripple(\n                variables.androidRippleColor,\n                false\n              )\n        }\n      >\n        <View {...rootProps}>{children}</View>\n      </TouchableNativeFeedback>\n    );\n  }\n}\n\nButton.propTypes = {\n  ...TouchableOpacityProps,\n  // eslint-disable-next-line react/forbid-prop-types\n  theme: PropTypes.object,\n  style: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.number,\n    PropTypes.array\n  ]),\n  block: PropTypes.bool,\n  primary: PropTypes.bool,\n  transparent: PropTypes.bool,\n  success: PropTypes.bool,\n  danger: PropTypes.bool,\n  warning: PropTypes.bool,\n  info: PropTypes.bool,\n  bordered: PropTypes.bool,\n  disabled: PropTypes.bool,\n  rounded: PropTypes.bool,\n  large: PropTypes.bool,\n  small: PropTypes.bool,\n  active: PropTypes.bool\n};\n\nconst StyledButton = connectStyle(\n  'NativeBase.Button',\n  {},\n  mapPropsToStyleNames\n)(Button);\n\nexport { StyledButton as Button };\n"]}