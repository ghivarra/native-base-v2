{"version":3,"sources":["../../../src/basic/Button.js"],"names":["Button","c","_root","borderedBtn","borderWidth","props","bordered","variable","buttonDefaultBorderWidth","undefined","borderRadius","rounded","borderRadiusLarge","buttonDefaultBorderRadius","style","theme","others","StyleSheet","flatten","compose","getInitialStyle","variables","children","Platform","OS","PLATFORM","IOS","buttonUppercaseAndroidText","React","Children","map","child","type","Text","cloneElement","uppercase","rootProps","prepareRootProps","WEB","androidRipple","Version","setRoot","activeOpacity","buttonDefaultActiveOpacity","buttonStyle","buttonFlex","full","block","buttonDefaultFlex","flex","maxHeight","height","paddingTop","paddingBottom","TouchableNativeFeedback","Ripple","androidRippleColor","styles","childContainer","flexGrow","onPress","transparent","PureComponent","propTypes","TouchableOpacityProps","PropTypes","oneOfType","object","number","array","bool","primary","success","danger","warning","info","disabled","large","small","active","create","flexShrink","flexDirection","justifyContent","alignItems","StyledButton","mapPropsToStyleNames"],"mappings":"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","file":"Button.js","sourcesContent":["/* eslint-disable new-cap */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  TouchableOpacity,\n  Platform,\n  View,\n  TouchableNativeFeedback,\n  StyleSheet\n} from 'react-native';\nimport { connectStyle } from 'native-base-shoutem-theme';\n\nimport variable from '../theme/variables/platform';\nimport { PLATFORM } from '../theme/variables/commonColor';\nimport mapPropsToStyleNames from '../utils/mapPropsToStyleNames';\n\nimport { Text } from './Text';\nimport { TouchableOpacityProps } from '../utils/TouchableOpacityProps';\n\n\nclass Button extends React.PureComponent {\n  setRoot(c){\n    this._root = c;\n  }\n\n  getInitialStyle() {\n    return {\n      borderedBtn: {\n        borderWidth: this.props.bordered\n          ? variable.buttonDefaultBorderWidth\n          : undefined,\n        borderRadius:\n          this.props.rounded && this.props.bordered\n            ? variable.borderRadiusLarge\n            : variable.buttonDefaultBorderRadius\n      }\n    };\n  }\n\n  prepareRootProps() {\n\n    // eslint-disable-next-line no-unused-vars\n    const {style, theme, ...others} = this.props;\n\n    return {\n      style: StyleSheet.flatten(StyleSheet.compose(this.getInitialStyle().borderedBtn, style)),\n      ...others\n    }\n\n  }\n\n  render() {\n    const { theme } = this.props\n    const variables = theme ? theme['@@shoutem.theme/themeStyle'].variables : variable;\n\n    const children =\n      Platform.OS === PLATFORM.IOS || !variables.buttonUppercaseAndroidText\n        ? this.props.children\n        : React.Children.map(this.props.children, child =>\n            child && child.type === Text\n              ? React.cloneElement(child, {\n                uppercase: this.props.buttonUppercaseAndroidText === false\n                ? false : variables.buttonUppercaseAndroidText,\n                ...child.props\n              })\n              : child\n          );\n\n    const rootProps = this.prepareRootProps();\n\n    if (\n      Platform.OS === PLATFORM.IOS ||\n      Platform.OS === PLATFORM.WEB ||\n      variables.androidRipple === false ||\n      Platform.Version < 21\n    ) {\n      return (\n        <TouchableOpacity\n          {...rootProps}\n          ref={this.setRoot}\n          activeOpacity={\n            this.props.activeOpacity > 0\n              ? this.props.activeOpacity\n              : variable.buttonDefaultActiveOpacity\n          }\n        >\n          {children}\n        </TouchableOpacity>\n      );\n    }\n    if (this.props.rounded) {\n      const buttonStyle = { ...rootProps.style };\n      const buttonFlex =\n        this.props.full || this.props.block\n          ? variable.buttonDefaultFlex\n          : buttonStyle.flex;\n      return (\n        <View\n          style={StyleSheet.flatten([\n            { maxHeight: buttonStyle.height },\n            buttonStyle,\n            { paddingTop: undefined, paddingBottom: undefined }\n          ])}\n        >\n          <TouchableNativeFeedback\n            ref={this.setRoot}\n            background={TouchableNativeFeedback.Ripple(\n              this.props.androidRippleColor || variables.androidRippleColor,\n              true\n            )}\n            {...rootProps}\n          >\n            <View\n              style={StyleSheet.flatten([\n                // eslint-disable-next-line no-use-before-define\n                styles.childContainer,\n                {\n                  paddingTop: buttonStyle.paddingTop,\n                  paddingBottom: buttonStyle.paddingBottom,\n                  height: buttonStyle.height,\n                  flexGrow: buttonFlex\n                }\n              ])}\n            >\n              {children}\n            </View>\n          </TouchableNativeFeedback>\n        </View>\n      );\n    }\n    return (\n      <TouchableNativeFeedback\n        ref={this.setRoot}\n        onPress={this.props.onPress}\n        background={\n          this.props.transparent\n            ? TouchableNativeFeedback.Ripple('transparent')\n            : TouchableNativeFeedback.Ripple(\n                variables.androidRippleColor,\n                false\n              )\n        }\n        {...rootProps}\n      >\n        <View {...rootProps}>{children}</View>\n      </TouchableNativeFeedback>\n    );\n  }\n}\n\nButton.propTypes = {\n  ...TouchableOpacityProps,\n  style: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.number,\n    PropTypes.array\n  ]),\n  block: PropTypes.bool,\n  primary: PropTypes.bool,\n  transparent: PropTypes.bool,\n  success: PropTypes.bool,\n  danger: PropTypes.bool,\n  warning: PropTypes.bool,\n  info: PropTypes.bool,\n  bordered: PropTypes.bool,\n  disabled: PropTypes.bool,\n  rounded: PropTypes.bool,\n  large: PropTypes.bool,\n  small: PropTypes.bool,\n  active: PropTypes.bool\n};\n\nconst styles = StyleSheet.create({\n  childContainer: {\n    flexShrink: 1,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});\n\nconst StyledButton = connectStyle(\n  'NativeBase.Button',\n  {},\n  mapPropsToStyleNames\n)(Button);\nexport { StyledButton as Button };"]}