{"version":3,"sources":["../../../../src/basic/Tabs/ScrollableTabBar.js"],"names":["Button","require","ReactNative","View","Animated","StyleSheet","ScrollView","Platform","Dimensions","WINDOW_WIDTH","get","width","ScrollableTabBar","propTypes","goToPage","PropTypes","func","activeTab","number","tabs","array","backgroundColor","string","activeTextColor","inactiveTextColor","scrollOffset","style","any","tabStyle","activeTabStyle","textStyle","activeTextStyle","tabHeaderStyle","renderTab","underlineStyle","onScroll","tabsContainerStyle","containerWidth","scrollValue","object","tabFontSize","getDefaultProps","variable","tabDefaultBg","getInitialState","_tabsMeasurements","_leftTabUnderline","Value","_widthTabUnderline","_containerWidth","componentDidMount","props","addListener","updateView","getVariables","theme","variables","offset","position","Math","floor","value","pageOffset","tabCount","length","lastTabPosition","necessarilyMeasurementsCompleted","updateTabPanel","updateTabUnderline","isLastTab","_tabContainerMeasurements","_containerMeasurements","tabWidth","nextTabMeasurements","nextTabWidth","tabOffset","left","absolutePageOffset","newScrollX","OS","_scrollView","scrollTo","x","y","animated","rightBoundScroll","lineLeft","lineRight","right","nextTabLeft","nextTabRight","newLineLeft","newLineRight","state","setValue","name","page","isTabActive","onPressHandler","onLayoutHandler","headerContent","children","undefined","fontSize","measureTab","event","nativeEvent","layout","height","_value","render","tabUnderlineStyle","topTabBarActiveBorderColor","bottom","dynamicTabUnderline","styles","container","onContainerLayout","scrollView","onTabContainerLayout","map","bind","UNSAFE_componentWillReceiveProps","nextProps","setState","e","StyledTab","mapPropsToStyleNames","ScrollableTab","create","tab","alignItems","justifyContent","paddingLeft","paddingRight","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderColor","flexDirection"],"mappings":"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","file":"ScrollableTabBar.js","sourcesContent":["/* eslint-disable react/forbid-prop-types */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport createReactClass from 'create-react-class';\nimport { isEqual } from 'lodash';\nimport { connectStyle } from 'native-base-shoutem-theme';\n\nimport mapPropsToStyleNames from '../../utils/mapPropsToStyleNames';\nimport variable from './../../theme/variables/platform';\nimport { TabHeading } from '../TabHeading';\nimport { Text } from '../Text';\nimport { TabContainer } from '../TabContainer';\n\nconst Button = require('./Button');\nconst ReactNative = require('react-native');\nconst {\n  View,\n  Animated,\n  StyleSheet,\n  ScrollView,\n  Platform,\n  Dimensions\n} = ReactNative;\n\nconst WINDOW_WIDTH = Dimensions.get('window').width;\n\nconst ScrollableTabBar = createReactClass({\n  propTypes: {\n    goToPage: PropTypes.func,\n    activeTab: PropTypes.number,\n    tabs: PropTypes.array,\n    backgroundColor: PropTypes.string,\n    activeTextColor: PropTypes.string,\n    inactiveTextColor: PropTypes.string,\n    scrollOffset: PropTypes.number,\n    style: PropTypes.any,\n    tabStyle: PropTypes.array,\n    activeTabStyle: PropTypes.array,\n    textStyle: PropTypes.array,\n    activeTextStyle: PropTypes.array,\n    tabHeaderStyle: PropTypes.array,\n    renderTab: PropTypes.func,\n    underlineStyle: PropTypes.any,\n    onScroll: PropTypes.func,\n    tabsContainerStyle: PropTypes.any,\n    containerWidth: PropTypes.number,\n    scrollValue: PropTypes.object,\n    tabFontSize: PropTypes.array\n  },\n\n  getDefaultProps() {\n    return {\n      scrollOffset: 52,\n      activeTextColor: 'navy',\n      inactiveTextColor: 'black',\n      backgroundColor: variable.tabDefaultBg,\n      style: {},\n      tabStyle: [],\n      activeTabStyle: [],\n      textStyle: [],\n      activeTextStyle: [],\n      tabHeaderStyle: [],\n      underlineStyle: {},\n      tabsContainerStyle: {},\n      tabFontSize: []\n    };\n  },\n\n  getInitialState() {\n    this._tabsMeasurements = [];\n    return {\n      _leftTabUnderline: new Animated.Value(0),\n      _widthTabUnderline: new Animated.Value(0),\n      _containerWidth: null\n    };\n  },\n\n  componentDidMount() {\n    this.props.scrollValue.addListener(this.updateView);\n  },\n\n  getVariables(props) {\n    if (this.props && this.props.theme && this.props.theme['@@shoutem.theme/themeStyle'] && this.props.theme['@@shoutem.theme/themeStyle'].variables) {\n      return this.props.theme['@@shoutem.theme/themeStyle'].variables\n    }\n    return variable\n  },\n\n  updateView(offset) {\n    if (!offset) return;\n    const position = Math.floor(offset.value);\n    const pageOffset = offset.value % 1;\n    const tabCount = this.props.tabs.length;\n    const lastTabPosition = tabCount - 1;\n\n    if (tabCount === 0 || offset.value < 0 || offset.value > lastTabPosition) {\n      return;\n    }\n\n    if (\n      this.necessarilyMeasurementsCompleted(\n        position,\n        position === lastTabPosition\n      )\n    ) {\n      this.updateTabPanel(position, pageOffset);\n      this.updateTabUnderline(position, pageOffset, tabCount);\n    }\n  },\n\n  necessarilyMeasurementsCompleted(position, isLastTab) {\n    return (\n      this._tabsMeasurements[position] &&\n      (isLastTab || this._tabsMeasurements[position + 1]) &&\n      this._tabContainerMeasurements &&\n      this._containerMeasurements\n    );\n  },\n\n  updateTabPanel(position, pageOffset) {\n    const containerWidth = this._containerMeasurements.width;\n    const tabWidth = this._tabsMeasurements[position].width;\n    const nextTabMeasurements = this._tabsMeasurements[position + 1];\n    const nextTabWidth =\n      (nextTabMeasurements && nextTabMeasurements.width) || 0;\n    const tabOffset = this._tabsMeasurements[position].left;\n    const absolutePageOffset = pageOffset * tabWidth;\n    let newScrollX = tabOffset + absolutePageOffset;\n\n    newScrollX -=\n      (containerWidth -\n        (1 - pageOffset) * tabWidth -\n        pageOffset * nextTabWidth) /\n      2;\n    newScrollX = newScrollX >= 0 ? newScrollX : 0;\n\n    if (Platform.OS === 'android') {\n      this._scrollView.scrollTo({ x: newScrollX, y: 0, animated: false });\n    } else {\n      const rightBoundScroll =\n        this._tabContainerMeasurements.width -\n        this._containerMeasurements.width;\n      newScrollX =\n        newScrollX > rightBoundScroll ? rightBoundScroll : newScrollX;\n      this._scrollView.scrollTo({ x: newScrollX, y: 0, animated: false });\n    }\n  },\n\n  updateTabUnderline(position, pageOffset, tabCount) {\n    const lineLeft = this._tabsMeasurements[position].left;\n    const lineRight = this._tabsMeasurements[position].right;\n\n    if (position < tabCount - 1) {\n      const nextTabLeft = this._tabsMeasurements[position + 1].left;\n      const nextTabRight = this._tabsMeasurements[position + 1].right;\n\n      const newLineLeft =\n        pageOffset * nextTabLeft + (1 - pageOffset) * lineLeft;\n      const newLineRight =\n        pageOffset * nextTabRight + (1 - pageOffset) * lineRight;\n\n      this.state._leftTabUnderline.setValue(newLineLeft);\n      this.state._widthTabUnderline.setValue(newLineRight - newLineLeft);\n    } else {\n      this.state._leftTabUnderline.setValue(lineLeft);\n      this.state._widthTabUnderline.setValue(lineRight - lineLeft);\n    }\n  },\n\n  renderTab(\n    name,\n    page,\n    isTabActive,\n    onPressHandler,\n    onLayoutHandler,\n    tabStyle,\n    activeTabStyle,\n    textStyle,\n    activeTextStyle,\n    tabHeaderStyle,\n    tabFontSize\n  ) {\n    const headerContent =\n      typeof name !== 'string' ? name.props.children : undefined;\n    const { activeTextColor, inactiveTextColor } = this.props;\n\n    if (typeof name === 'string') {\n      return (\n        <Button\n          key={`${name}_${page}`}\n          onPress={() => onPressHandler(page)}\n          onLayout={onLayoutHandler}\n        >\n          <TabHeading\n            scrollable\n            style={isTabActive ? activeTabStyle : tabStyle}\n            active={isTabActive}\n          >\n            <Text\n              style={[\n                isTabActive ? activeTextStyle : textStyle,\n                { fontSize: tabFontSize }\n              ]}\n            >\n              {name}\n            </Text>\n          </TabHeading>\n        </Button>\n      );\n    }\n\n    return (\n      <Button\n        key={`${page}`}\n        onPress={() => onPressHandler(page)}\n        onLayout={onLayoutHandler}\n      >\n        <TabHeading scrollable style={tabHeaderStyle} active={isTabActive}>\n          {headerContent}\n        </TabHeading>\n      </Button>\n    );\n  },\n\n  measureTab(page, event) {\n    const { x, width, height } = event.nativeEvent.layout;\n    this._tabsMeasurements[page] = { left: x, right: x + width, width, height };\n    this.updateView({ value: this.props.scrollValue._value || 0 });\n  },\n\n  render() {\n    const variables = this.getVariables(this.props);\n\n    const tabUnderlineStyle = {\n      position: 'absolute',\n      height: 4,\n      backgroundColor: variables.topTabBarActiveBorderColor,\n      bottom: 0\n    };\n\n    const dynamicTabUnderline = {\n      left: this.state._leftTabUnderline,\n      width: this.state._widthTabUnderline\n    };\n\n    return (\n      <View\n        style={[\n          styles.container,\n          { backgroundColor: this.props.backgroundColor },\n          this.props.style\n        ]}\n        onLayout={this.onContainerLayout}\n      >\n        <ScrollView\n          automaticallyAdjustContentInsets={false}\n          ref={scrollView => {\n            this._scrollView = scrollView;\n          }}\n          horizontal\n          showsHorizontalScrollIndicator={false}\n          directionalLockEnabled\n          onScroll={this.props.onScroll}\n          bounces={false}\n        >\n          <View\n            style={[\n              styles.tabs,\n              { width: this.state._containerWidth },\n              this.props.tabsContainerStyle\n            ]}\n            onLayout={this.onTabContainerLayout}\n          >\n            {this.props.tabs.map((name, page) => {\n              const isTabActive = this.props.activeTab === page;\n              const renderTab = this.props.renderTab || this.renderTab;\n              return renderTab(\n                name,\n                page,\n                isTabActive,\n                this.props.goToPage,\n                this.measureTab.bind(this, page),\n                this.props.tabStyle[page],\n                this.props.activeTabStyle[page],\n                this.props.textStyle[page],\n                this.props.activeTextStyle[page],\n                this.props.tabHeaderStyle[page],\n                this.props.tabFontSize[page]\n              );\n            })}\n            <Animated.View\n              style={[\n                tabUnderlineStyle,\n                dynamicTabUnderline,\n                this.props.underlineStyle\n              ]}\n            />\n          </View>\n        </ScrollView>\n      </View>\n    );\n  },\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (\n      !isEqual(this.props.tabs, nextProps.tabs) &&\n      this.state._containerWidth\n    ) {\n      this.setState({ _containerWidth: null });\n    }\n  },\n\n  onTabContainerLayout(e) {\n    this._tabContainerMeasurements = e.nativeEvent.layout;\n    let width = this._tabContainerMeasurements.width;\n    if (width < WINDOW_WIDTH) width = WINDOW_WIDTH;\n    this.setState({ _containerWidth: width });\n    this.updateView({ value: this.props.scrollValue._value || 0 });\n  },\n\n  onContainerLayout(e) {\n    this._containerMeasurements = e.nativeEvent.layout;\n    this.updateView({ value: this.props.scrollValue._value || 0 });\n  }\n});\n\nconst StyledTab = connectStyle(\n  'NativeBase.ScrollableTab',\n  {},\n  mapPropsToStyleNames\n)(ScrollableTabBar);\n\nexport { StyledTab as ScrollableTab };\n\nconst styles = StyleSheet.create({\n  tab: {\n    height: 49,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingLeft: 20,\n    paddingRight: 20\n  },\n  container: {\n    height: 50,\n    borderWidth: 1,\n    borderTopWidth: 0,\n    borderLeftWidth: 0,\n    borderRightWidth: 0,\n    borderColor: '#ccc'\n  },\n  tabs: {\n    flexDirection: 'row',\n    justifyContent: 'space-around'\n  }\n});\n"]}